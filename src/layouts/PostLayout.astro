---
import type { MarkdownLayoutProps } from "astro";
import Layout from "./Layout.astro";
import Link from "@components/react/Link";
import { ArrowLeftIcon } from "@radix-ui/react-icons";
import Tags from "@components/astro/Tags.astro";
import { categories } from "config";

type FrontmatterPost = {
  title: string;
  author: string;
  date: string;
  image: {
    url: string;
    alt: string;
  };
  tags: string[];
  description: string;
};

type Props = MarkdownLayoutProps<FrontmatterPost>;

const frontmatter = Astro.props.frontmatter;
---

<Layout title={frontmatter.title}>
  <a href="/blog">
    <button type="button" class="back-to-blog">
      {(<ArrowLeftIcon />)}
      <div>Revenir aux posts</div>
    </button>
  </a>

  <main class="container post">
    <aside class="tags">
      <Tags tags={categories} />
    </aside>
    <slot />
  </main>
</Layout>

<style>
  .back-to-blog {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 2rem 1rem;
  }

  .post {
    padding: 2rem;
    margin-top: 7rem;
    background-color: #1f1f1f;
    margin-bottom: 5rem;
  }

  .tags {
    margin-bottom: calc(3rem + 7vmin);
  }
</style>
